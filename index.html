<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eterno Vínculo - Un puente a tus recuerdos</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <audio id="audioPlayer" src="fondo_musical.mp3" loop></audio>
    <div id="welcome-screen">
        <div class="welcome-container">
            <h2>Un puente al corazón de quienes amamos.</h2>
            <a href="#" class="btn-entrar" id="startButton">Entrar</a>
            <p>En Eterno Vínculo, sabemos que los recuerdos más preciosos no se desvanecen. Son el eco de una risa, la calidez de un abrazo y la historia que vive en nuestros corazones. Nuestro propósito es crear un puente tangible que te conecte con la memoria de esas personas o mascotas que tanto significaron para ti.</p>
            <p>A través de un código QR único y resistente, que puedes colocar en una lápida, un llavero o en cualquier lugar especial, te ofrecemos la oportunidad de abrir un cofre de tesoros. Con solo escanearlo, podrás revivir momentos inolvidables a través de fotos, videos y anécdotas que mantienen sus historias vivas.</p>
            <p>Eterno Vínculo te invita a recordar.</p>
            
        </div>
    </div>
    <div id="main-site">
        <div class="nav-buttons" id="nav-buttons">
            <a href="inicio_contenido.html" class="nav-link">Inicio</a>
            <a href="galeria.html" class="nav-link">Galería de Fotos</a>
            <a href="contacto.html" class="nav-link">Contacto y Planes</a>
        </div>
        <div id="content-container">
        </div>
    </div>
    <script>
        const audio = document.getElementById('audioPlayer');
        const startButton = document.getElementById('startButton');
        const welcomeScreen = document.getElementById('welcome-screen');
        const mainSite = document.getElementById('main-site');
        const contentContainer = document.getElementById('content-container');
        const navButtons = document.getElementById('nav-buttons');

        async function loadContent(url) {
            try {
                const response = await fetch(url);
                const html = await response.text();
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = html;
                const content = tempDiv.querySelector('.content-section');
                if (content) {
                    contentContainer.innerHTML = `
                        <div class="centered-section">
                             ${content.outerHTML}
                         </div>
                 `;
} else {
    contentContainer.innerHTML = html;
}

                if (url === 'galeria.html') {
                    setTimeout(setupVideoEvents, 100);
                }
            } catch (error) {
                console.error('Error al cargar la página:', error);
                contentContainer.innerHTML = `<p>Error al cargar el contenido.</p>`;
            }
        }

        function setupVideoEvents() {
            const video = document.getElementById('myVideo');
            if (video) {
                video.addEventListener('play', () => {
                    audio.pause();
                });
                video.addEventListener('pause', () => {
                    audio.play();
                });
                video.addEventListener('ended', () => {
                    audio.play();
                });
            } else {
                console.error('Video con ID "myVideo" no encontrado.');
            }
        }

        startButton.addEventListener('click', (e) => {
            e.preventDefault();
            audio.play().catch(error => {
                console.log("Autoplay blocked, user must interact with the player.");
            });
            welcomeScreen.style.display = 'none';
            mainSite.style.display = 'block';
            loadContent('inicio_contenido.html');
        });

        navButtons.addEventListener('click', (event) => {
            if (event.target.tagName === 'A') {
                event.preventDefault();
                const pageToLoad = event.target.getAttribute('href');
                loadContent(pageToLoad);
            }
        });
    </script>
</body>
</html>


